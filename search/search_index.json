{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to Tickets.nvim","text":"<p>Tickets.nvim is a lightweight Neovim plugin designed to help you manage your tasks and view GitHub issues directly within your editor.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Task Management: Open a dedicated \"todo\" file in a floating window to keep track of your local tasks.</li> <li>GitHub Integration: Fetch and view issues from GitHub repositories (currently in early alpha).</li> <li>Floating UI: Clean, unobtrusive interface using Neovim's floating windows.</li> </ul>"},{"location":"#why-ticketsnvim","title":"Why Tickets.nvim?","text":"<p>Context switching breaks flow. By bringing your issue tracking and simple todo lists into Neovim, you can stay focused on your code while keeping an eye on what needs to be done next.</p>"},{"location":"#get-started","title":"Get Started","text":"<p>Check out the Installation guide to add Tickets.nvim to your configuration, or jump straight to the Quick Start to see it in action.</p>"},{"location":"architecture/","title":"Architecture","text":"<p>This document describes the internal architecture of Tickets.nvim.</p>"},{"location":"architecture/#module-overview","title":"Module Overview","text":"<pre><code>lua/tickets/\n\u251c\u2500\u2500 init.lua              Plugin entry point\n\u251c\u2500\u2500 config.lua            Configuration validation\n\u251c\u2500\u2500 commands.lua          User command registration\n\u251c\u2500\u2500 notifications.lua     Centralized messaging\n\u251c\u2500\u2500 cache.lua             In-memory + persistent caching\n\u251c\u2500\u2500 persistence.lua       Disk cache management (JSON)\n\u251c\u2500\u2500 github.lua            GitHub API integration\n\u251c\u2500\u2500 create.lua            Issue creation functionality\n\u251c\u2500\u2500 utils.lua             Utility functions\n\u251c\u2500\u2500 ui.lua                Public UI API\n\u2514\u2500\u2500 ui/\n    \u251c\u2500\u2500 config.lua        Window configuration\n    \u251c\u2500\u2500 formatters.lua    Display formatting\n    \u251c\u2500\u2500 issue_detail.lua  Detail preview logic\n    \u251c\u2500\u2500 issue_list.lua    Issue list logic\n    \u2514\u2500\u2500 prefetch.lua      Background prefetching\n</code></pre>"},{"location":"architecture/#module-responsibilities","title":"Module Responsibilities","text":""},{"location":"architecture/#core-modules","title":"Core Modules","text":""},{"location":"architecture/#initlua-16-lines","title":"<code>init.lua</code> (16 lines)","text":"<p>Purpose: Plugin entry point</p> <ul> <li>Validates user configuration</li> <li>Initializes plugin modules</li> <li>Exposes public API</li> </ul>"},{"location":"architecture/#configlua-211-lines","title":"<code>config.lua</code> (211 lines)","text":"<p>Purpose: Configuration management</p> <ul> <li>Defines default configuration</li> <li>Validates user options</li> <li>Merges user config with defaults</li> <li>Provides helpful error messages</li> </ul>"},{"location":"architecture/#commandslua-91-lines","title":"<code>commands.lua</code> (91 lines)","text":"<p>Purpose: Command registration</p> <ul> <li>Registers all user commands</li> <li>Sets up buffer keymaps</li> <li>Handles command callbacks</li> </ul>"},{"location":"architecture/#notificationslua-108-lines","title":"<code>notifications.lua</code> (108 lines)","text":"<p>Purpose: User messaging</p> <ul> <li>Centralizes all vim.notify calls</li> <li>Provides consistent message formatting</li> <li>Categorizes by type (INFO/WARN/ERROR)</li> </ul>"},{"location":"architecture/#data-modules","title":"Data Modules","text":""},{"location":"architecture/#cachelua-150-lines","title":"<code>cache.lua</code> (150+ lines)","text":"<p>Purpose: In-memory + persistent caching</p> <ul> <li>Caches issue lists per repository (in-memory and on disk)</li> <li>Caches detailed issue data</li> <li>Auto-loads from disk on first access</li> <li>Auto-saves to disk on updates</li> <li>Provides cache statistics</li> <li>Supports cache invalidation</li> </ul> <p>Data Structure: <pre><code>{\n  [\"owner/repo\"] = {\n    issues = { ... },\n    issue_details = {\n      [123] = { ... },\n      [456] = { ... }\n    }\n  }\n}\n</code></pre></p>"},{"location":"architecture/#persistencelua-180-lines","title":"<code>persistence.lua</code> (180+ lines)","text":"<p>Purpose: Disk cache management</p> <ul> <li>Saves/loads cache to/from <code>~/.local/share/nvim/tickets/cache/</code></li> <li>One JSON file per repository (<code>owner_repo.json</code>)</li> <li>Includes metadata (last_sync timestamp)</li> <li>Safe file operations with error handling</li> <li>Statistics and listing functions</li> </ul>"},{"location":"architecture/#githublua-252-lines","title":"<code>github.lua</code> (252 lines)","text":"<p>Purpose: GitHub API integration</p> <ul> <li>Authenticates with gh CLI or GITHUB_TOKEN</li> <li>Fetches issue lists</li> <li>Fetches detailed issue data with comments</li> <li>Handles API errors gracefully</li> </ul> <p>Features: - Automatic fallback from gh CLI to curl - Forces keyring auth when GITHUB_TOKEN is invalid - Caches all responses - Async callbacks with vim.schedule</p>"},{"location":"architecture/#createlua-200-lines","title":"<code>create.lua</code> (200+ lines)","text":"<p>Purpose: Issue creation functionality</p> <ul> <li>Opens markdown template buffer with frontmatter for metadata</li> <li>Parses title, body, labels, and assignees from structured template</li> <li>Submits via <code>gh issue create</code> command</li> <li>Auto-invalidates cache after creation</li> <li>Optionally opens created issue in browser</li> </ul> <p>Template Format: <pre><code>---\nlabels: [bug, enhancement]\nassignees: [username]\n---\n\n# Issue Title\n\n## Description\n...\n</code></pre></p> <p>Workflow: 1. <code>:TicketsCreate</code> opens template buffer (scratch buffer) 2. User fills in frontmatter, title, and description 3. <code>&lt;leader&gt;s</code> or <code>&lt;CR&gt;&lt;CR&gt;</code> submits the issue 4. Success notification with issue URL 5. Cache invalidated to show new issue 6. Issue optionally opens in browser</p>"},{"location":"architecture/#utilslua-51-lines","title":"<code>utils.lua</code> (51 lines)","text":"<p>Purpose: Helper functions</p> <ul> <li>Path expansion (<code>~/path</code> \u2192 absolute path)</li> <li>Repository detection from git remote</li> <li>Buffer management utilities</li> </ul>"},{"location":"architecture/#ui-modules","title":"UI Modules","text":""},{"location":"architecture/#uilua-48-lines","title":"<code>ui.lua</code> (48 lines)","text":"<p>Purpose: Public UI API</p> <p>Thin coordinator layer that exposes: - <code>open_floating_file(path)</code> - Opens todo file - <code>open_issues_window(issues)</code> - Opens issue list</p>"},{"location":"architecture/#uiconfiglua-102-lines","title":"<code>ui/config.lua</code> (102 lines)","text":"<p>Purpose: Window configuration</p> <ul> <li>Defines layout ratios and spacing</li> <li>Calculates window positions and sizes</li> <li>Creates window config objects</li> <li>Normalizes position values</li> </ul> <p>Functions: - <code>get_base_dimensions()</code> - Calculates centered window dimensions - <code>create_list_window_config()</code> - Config for issue list - <code>create_detail_window_config(list_win)</code> - Config for detail pane - <code>create_file_window_config()</code> - Config for todo file</p>"},{"location":"architecture/#uiformatterslua-92-lines","title":"<code>ui/formatters.lua</code> (92 lines)","text":"<p>Purpose: Data formatting</p> <ul> <li>Formats timestamps for display</li> <li>Formats issue details as markdown</li> <li>Formats issue list entries</li> </ul> <p>Output: Markdown-formatted text arrays for display</p>"},{"location":"architecture/#uiissue_listlua-137-lines","title":"<code>ui/issue_list.lua</code> (137 lines)","text":"<p>Purpose: Issue list window</p> <ul> <li>Creates and manages issue list buffer</li> <li>Sets up keymaps (q, Enter, gx)</li> <li>Sets up autocmds (cursor movement, window close)</li> <li>Starts background prefetching</li> <li>Finds issue at cursor position</li> </ul> <p>Keymaps: - <code>q</code> - Close window and detail preview - <code>&lt;CR&gt;</code> - Toggle detail preview - <code>gx</code> - Open issue in browser</p>"},{"location":"architecture/#uiissue_detaillua-139-lines","title":"<code>ui/issue_detail.lua</code> (139 lines)","text":"<p>Purpose: Detail preview window</p> <ul> <li>Manages detail preview lifecycle</li> <li>Tracks currently viewed issue</li> <li>Handles async detail loading</li> <li>Updates preview on cursor move</li> </ul> <p>Features: - Issue number tracking (prevents redundant fetches) - Synchronous cache check (instant display) - Stale request detection - Auto-cleanup on window close</p>"},{"location":"architecture/#uiprefetchlua-139-lines","title":"<code>ui/prefetch.lua</code> (139 lines)","text":"<p>Purpose: Background prefetching</p> <ul> <li>Queue-based prefetching system</li> <li>Fetches uncached issues in background</li> <li>Configurable delay and concurrency</li> <li>Cancellable when window closes</li> <li>Progress tracking and notifications</li> </ul>"},{"location":"architecture/#data-flow","title":"Data Flow","text":""},{"location":"architecture/#opening-issue-list","title":"Opening Issue List","text":"<pre><code>User runs :TicketsGithubFetch\n    \u2193\ncommands.lua \u2192 github.fetch_issues()\n    \u2193\ngithub.lua checks cache.get_issues()\n    \u2193\n\u251c\u2500 Cache hit: Return cached issues immediately\n\u2514\u2500 Cache miss: Fetch from API, cache, and return\n    \u2193\nui.open_issues_window(issues)\n    \u2193\nissue_list.lua creates window and starts prefetch\n    \u2193\nprefetch.lua queues uncached issues for background loading\n</code></pre>"},{"location":"architecture/#viewing-issue-details","title":"Viewing Issue Details","text":"<pre><code>User presses &lt;CR&gt; on issue\n    \u2193\nissue_list.lua \u2192 issue_detail.show_issue_detail_preview()\n    \u2193\nissue_detail.lua checks if same issue (tracking)\n    \u2193\n\u251c\u2500 Same issue: Skip (no-op)\n\u2514\u2500 Different issue: Continue\n    \u2193\nissue_detail.lua checks cache.get_issue_details()\n    \u2193\n\u251c\u2500 Cache hit: Display instantly (synchronous)\n\u2514\u2500 Cache miss: Show \"Loading...\", fetch from API\n    \u2193\nformatters.format_issue_details() \u2192 Display\n</code></pre>"},{"location":"architecture/#cursor-movement","title":"Cursor Movement","text":"<pre><code>CursorMoved event fires\n    \u2193\nissue_list.lua autocmd callback\n    \u2193\nCheck if detail preview is open\n    \u2193\n\u251c\u2500 No: Skip\n\u2514\u2500 Yes: Continue\n    \u2193\nFind issue at cursor position\n    \u2193\nissue_detail.update_detail_preview(issue)\n    \u2193\nCheck if same issue number\n    \u2193\n\u251c\u2500 Same: Skip (prevents redundant fetch)\n\u2514\u2500 Different: Update preview (see \"Viewing Issue Details\" above)\n</code></pre>"},{"location":"architecture/#performance-optimizations","title":"Performance Optimizations","text":""},{"location":"architecture/#1-issue-number-tracking","title":"1. Issue Number Tracking","text":"<p>Problem: CursorMoved fires on every cursor movement Solution: Track last viewed issue number, skip if unchanged</p> <pre><code>local last_viewed_issue = {}\n\nif last_viewed_issue[buf] == issue.number then\n    return  -- Already viewing this issue\nend\n</code></pre>"},{"location":"architecture/#2-synchronous-cache-check","title":"2. Synchronous Cache Check","text":"<p>Problem: Showing \"Loading...\" even for cached data Solution: Check cache synchronously before async fetch</p> <pre><code>local cached = cache.get_issue_details(repo, issue_num)\nif cached then\n    display(cached)  -- Instant!\n    return\nend\n\n-- Not cached, fetch async\nfetch_from_api(...)\n</code></pre>"},{"location":"architecture/#3-background-prefetching","title":"3. Background Prefetching","text":"<p>Problem: First view of each issue requires API call Solution: Prefetch all uncached issues in background</p> <pre><code>-- Queue-based: fetches one at a time with delays\nprefetch.start_prefetch(buf, repo, issues, {\n    delay = 500,         -- 500ms between fetches\n    max_concurrent = 1,  -- Don't overwhelm API\n})\n</code></pre>"},{"location":"architecture/#4-stale-request-detection","title":"4. Stale Request Detection","text":"<p>Problem: Fast navigation causes old responses to overwrite new ones Solution: Track expected issue, discard stale responses</p> <pre><code>-- After fetch completes\nif last_viewed_issue[buf] ~= issue.number then\n    return  -- User moved on, discard this response\nend\n</code></pre>"},{"location":"architecture/#extension-points","title":"Extension Points","text":""},{"location":"architecture/#adding-a-new-command","title":"Adding a New Command","text":"<ol> <li> <p>Define command in <code>commands.lua</code>:    <pre><code>vim.api.nvim_create_user_command(\"TicketsMyCommand\", function()\n    -- Implementation\nend, { desc = \"Description\" })\n</code></pre></p> </li> <li> <p>Add notification in <code>notifications.lua</code>:    <pre><code>function M.my_command_success()\n    vim.notify(\"Command succeeded!\", INFO)\nend\n</code></pre></p> </li> </ol>"},{"location":"architecture/#adding-ui-configuration","title":"Adding UI Configuration","text":"<ol> <li> <p>Add to defaults in <code>config.lua</code>:    <pre><code>M.defaults = {\n    ui = {\n        my_option = \"default_value\"\n    }\n}\n</code></pre></p> </li> <li> <p>Add validation in <code>config.validate()</code>:    <pre><code>if config.ui.my_option ~= nil then\n    validate_type(config.ui.my_option, \"string\", \"ui.my_option\")\nend\n</code></pre></p> </li> <li> <p>Use in <code>ui/config.lua</code>:    <pre><code>local init = require(\"tickets\")\nlocal my_value = init.config.ui.my_option\n</code></pre></p> </li> </ol>"},{"location":"architecture/#adding-a-new-data-source","title":"Adding a New Data Source","text":"<ol> <li>Create module <code>lua/tickets/my_source.lua</code></li> <li>Implement <code>fetch_issues(callback)</code> function</li> <li>Update <code>commands.lua</code> to support new source</li> <li>Cache responses in <code>cache.lua</code></li> </ol>"},{"location":"architecture/#testing-strategy","title":"Testing Strategy","text":""},{"location":"architecture/#unit-tests-recommended","title":"Unit Tests (Recommended)","text":"<p>Each module can be tested independently:</p> <pre><code>-- Test config validation\nlocal config = require(\"tickets.config\")\nlocal validated, errors = config.validate({ target_file = 123 })\nassert(#errors &gt; 0, \"Should reject non-string target_file\")\n</code></pre>"},{"location":"architecture/#integration-tests","title":"Integration Tests","text":"<p>Test command \u2192 API \u2192 UI flow:</p> <pre><code>-- Mock GitHub API\nlocal github = require(\"tickets.github\")\ngithub.fetch_issues = function(callback)\n    callback({ { number = 1, title = \"Test\" } })\nend\n\n-- Test command\nvim.cmd(\"TicketsGithubFetch\")\n-- Assert window opened, buffer created, etc.\n</code></pre>"},{"location":"architecture/#debugging","title":"Debugging","text":""},{"location":"architecture/#enable-verbose-notifications","title":"Enable Verbose Notifications","text":"<p>Modify <code>notifications.lua</code> to log all calls:</p> <pre><code>local function notify_with_log(msg, level)\n    print(\"[TICKETS]\", msg)  -- Log to :messages\n    vim.notify(msg, level)\nend\n</code></pre>"},{"location":"architecture/#inspect-cache-state","title":"Inspect Cache State","text":"<pre><code>:lua print(vim.inspect(require(\"tickets.cache\").stats()))\n</code></pre>"},{"location":"architecture/#monitor-prefetch-queue","title":"Monitor Prefetch Queue","text":"<pre><code>:lua print(vim.inspect(require(\"tickets.ui.prefetch\").get_status(vim.api.nvim_get_current_buf())))\n</code></pre>"},{"location":"architecture/#check-configuration","title":"Check Configuration","text":"<pre><code>:lua print(vim.inspect(require(\"tickets\").config))\n</code></pre>"},{"location":"configuration/","title":"Configuration","text":"<p>Tickets.nvim can be customized through the <code>setup()</code> function. All configuration is optional and validated automatically.</p>"},{"location":"configuration/#basic-setup","title":"Basic Setup","text":"<pre><code>require(\"tickets\").setup({\n    target_file = \"todo.md\"\n})\n</code></pre>"},{"location":"configuration/#full-configuration","title":"Full Configuration","text":"<p>Here's a complete configuration with all available options and their defaults:</p> <pre><code>require(\"tickets\").setup({\n    -- Path to your local todo file\n    target_file = \"todo.md\",\n\n    -- Background prefetching configuration\n    prefetch = {\n        enabled = true,           -- Enable/disable background prefetching\n        delay = 500,              -- Milliseconds between fetches (100-5000)\n        max_concurrent = 1,       -- Maximum concurrent fetches (1-5)\n    },\n\n    -- UI configuration\n    ui = {\n        -- Window layout settings\n        window = {\n            total_width_ratio = 0.9,    -- Total window width (0.5-1.0)\n            total_height_ratio = 0.8,   -- Total window height (0.5-1.0)\n            list_width_ratio = 0.35,    -- Issue list width ratio (0.1-0.9)\n            detail_width_ratio = 0.65,  -- Detail pane width ratio (0.1-0.9)\n            spacing = 2,                -- Spacing between windows (0-10)\n        },\n        -- Border style for floating windows\n        -- Options: \"none\", \"single\", \"double\", \"rounded\", \"solid\", \"shadow\"\n        border = \"rounded\",\n    },\n})\n</code></pre>"},{"location":"configuration/#configuration-options","title":"Configuration Options","text":""},{"location":"configuration/#target_file","title":"<code>target_file</code>","text":"<p>Type: <code>string</code> Default: <code>\"todo.md\"</code></p> <p>Path to your local todo file. Can be absolute or relative to your current working directory.</p> <p>Examples:</p> <pre><code>-- Relative path\ntarget_file = \"todo.md\"\n\n-- Absolute path\ntarget_file = vim.fn.expand(\"~/notes/todo.md\")\n\n-- Project-specific\ntarget_file = \".todo.md\"\n</code></pre>"},{"location":"configuration/#prefetch","title":"<code>prefetch</code>","text":"<p>Type: <code>table</code></p> <p>Controls background prefetching of issue details to improve performance.</p>"},{"location":"configuration/#prefetchenabled","title":"<code>prefetch.enabled</code>","text":"<p>Type: <code>boolean</code> Default: <code>true</code></p> <p>Enable or disable background prefetching. When enabled, issue details are fetched in the background after opening the issue list.</p>"},{"location":"configuration/#prefetchdelay","title":"<code>prefetch.delay</code>","text":"<p>Type: <code>number</code> Range: <code>100-5000</code> Default: <code>500</code></p> <p>Milliseconds to wait between fetching each issue. Lower values fetch faster but may strain the API.</p> <p>Recommendations: - Fast connection, few issues: <code>200-300ms</code> - Balanced (default): <code>500ms</code> - Slow connection, many issues: <code>1000-2000ms</code></p>"},{"location":"configuration/#prefetchmax_concurrent","title":"<code>prefetch.max_concurrent</code>","text":"<p>Type: <code>number</code> Range: <code>1-5</code> Default: <code>1</code></p> <p>Maximum number of issues to fetch concurrently.</p> <p>Warning</p> <p>Higher values may trigger GitHub API rate limiting. Use <code>1</code> unless you have specific needs.</p>"},{"location":"configuration/#ui","title":"<code>ui</code>","text":"<p>Type: <code>table</code></p> <p>Controls the appearance and layout of floating windows.</p>"},{"location":"configuration/#uiwindow","title":"<code>ui.window</code>","text":"<p>Type: <code>table</code></p> <p>Window sizing and layout configuration.</p>"},{"location":"configuration/#uiwindowtotal_width_ratio","title":"<code>ui.window.total_width_ratio</code>","text":"<p>Type: <code>number</code> Range: <code>0.5-1.0</code> Default: <code>0.9</code></p> <p>Total window area as a ratio of editor width (90% by default).</p>"},{"location":"configuration/#uiwindowtotal_height_ratio","title":"<code>ui.window.total_height_ratio</code>","text":"<p>Type: <code>number</code> Range: <code>0.5-1.0</code> Default: <code>0.8</code></p> <p>Total window area as a ratio of editor height (80% by default).</p>"},{"location":"configuration/#uiwindowlist_width_ratio","title":"<code>ui.window.list_width_ratio</code>","text":"<p>Type: <code>number</code> Range: <code>0.1-0.9</code> Default: <code>0.35</code></p> <p>Issue list width as a ratio of total window width (35% by default).</p>"},{"location":"configuration/#uiwindowdetail_width_ratio","title":"<code>ui.window.detail_width_ratio</code>","text":"<p>Type: <code>number</code> Range: <code>0.1-0.9</code> Default: <code>0.65</code></p> <p>Detail pane width as a ratio of total window width (65% by default).</p> <p>Note</p> <p><code>list_width_ratio</code> + <code>detail_width_ratio</code> should approximately equal 1.0 for best layout.</p>"},{"location":"configuration/#uiwindowspacing","title":"<code>ui.window.spacing</code>","text":"<p>Type: <code>number</code> Range: <code>0-10</code> Default: <code>2</code></p> <p>Spacing in characters between the issue list and detail pane.</p>"},{"location":"configuration/#uiborder","title":"<code>ui.border</code>","text":"<p>Type: <code>string</code> Default: <code>\"rounded\"</code></p> <p>Border style for floating windows.</p> <p>Options: - <code>\"none\"</code> - No border - <code>\"single\"</code> - Single line border: <code>\u250c\u2500\u2510\u2502\u2514\u2518</code> - <code>\"double\"</code> - Double line border: <code>\u2554\u2550\u2557\u2551\u255a\u255d</code> - <code>\"rounded\"</code> - Rounded corners: <code>\u256d\u2500\u256e\u2502\u2570\u256f</code> - <code>\"solid\"</code> - Solid block border - <code>\"shadow\"</code> - Drop shadow effect</p>"},{"location":"configuration/#validation","title":"Validation","text":"<p>All configuration is automatically validated on setup. Invalid values will:</p> <ol> <li>Display an error notification</li> <li>List all validation errors</li> <li>Prevent the plugin from loading</li> </ol>"},{"location":"configuration/#example-validation-error","title":"Example Validation Error","text":"<pre><code>-- Invalid configuration\nrequire(\"tickets\").setup({\n    prefetch = {\n        delay = 50,  -- Too low! Must be 100-5000\n    }\n})\n</code></pre> <p>Error message: <pre><code>Tickets.nvim configuration errors:\nValue for 'prefetch.delay' must be between 100 and 5000, got 50\n</code></pre></p>"},{"location":"configuration/#advanced-examples","title":"Advanced Examples","text":""},{"location":"configuration/#minimal-configuration","title":"Minimal Configuration","text":"<pre><code>require(\"tickets\").setup({\n    target_file = \"TODO.md\"\n})\n</code></pre>"},{"location":"configuration/#performance-optimized","title":"Performance Optimized","text":"<p>For repositories with many issues:</p> <pre><code>require(\"tickets\").setup({\n    prefetch = {\n        delay = 200,           -- Faster prefetching\n        max_concurrent = 2,    -- Fetch 2 at a time\n    }\n})\n</code></pre>"},{"location":"configuration/#conservative-api-usage","title":"Conservative API Usage","text":"<p>For slow connections or to minimize API calls:</p> <pre><code>require(\"tickets\").setup({\n    prefetch = {\n        enabled = false,       -- Disable prefetching entirely\n    }\n})\n</code></pre>"},{"location":"configuration/#custom-layout","title":"Custom Layout","text":"<p>Wider detail pane for reading long issue descriptions:</p> <pre><code>require(\"tickets\").setup({\n    ui = {\n        window = {\n            list_width_ratio = 0.25,    -- Narrower list\n            detail_width_ratio = 0.75,  -- Wider details\n        }\n    }\n})\n</code></pre>"},{"location":"configuration/#full-screen-windows","title":"Full Screen Windows","text":"<p>Maximize screen usage:</p> <pre><code>require(\"tickets\").setup({\n    ui = {\n        window = {\n            total_width_ratio = 1.0,    -- Full width\n            total_height_ratio = 1.0,   -- Full height\n            spacing = 0,                -- No gap\n        },\n        border = \"none\",                -- No borders\n    }\n})\n</code></pre>"},{"location":"contributing/","title":"Contributing","text":"<p>We welcome contributions! Please follow these steps to contribute to Tickets.nvim.</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<ol> <li>Clone the repository:     <pre><code>git clone https://github.com/MarvinHauke/tickets.nvim.git\n</code></pre></li> <li>Install dependencies: Ensure you have <code>stylua</code> installed for formatting.</li> </ol>"},{"location":"contributing/#style-guidelines","title":"Style Guidelines","text":"<p>We use <code>stylua</code> for Lua formatting. Please run the following before submitting a PR:</p> <pre><code>stylua .\n</code></pre> <p>The configuration is defined in <code>.stylua.toml</code>.</p>"},{"location":"contributing/#submitting-a-pull-request","title":"Submitting a Pull Request","text":"<ol> <li>Fork the repository.</li> <li>Create a feature branch (<code>git checkout -b feature/amazing-feature</code>).</li> <li>Commit your changes.</li> <li>Push to the branch.</li> <li>Open a Pull Request.</li> </ol>"},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<p>Please report bugs and feature requests on the GitHub Issues page.</p>"},{"location":"installation/","title":"Installation","text":"<p>Tickets.nvim requires Neovim &gt;= 0.8.0 and depends on plenary.nvim.</p>"},{"location":"installation/#using-lazynvim","title":"using lazy.nvim","text":"<pre><code>{\n    \"MarvinHauke/tickets.nvim\",\n    dependencies = { \"nvim-lua/plenary.nvim\" },\n    config = function()\n        require(\"tickets\").setup({\n            -- Your configuration here\n        })\n    end\n}\n</code></pre>"},{"location":"installation/#using-packernvim","title":"using packer.nvim","text":"<pre><code>use {\n    \"MarvinHauke/tickets.nvim\",\n    requires = { \"nvim-lua/plenary.nvim\" },\n    config = function()\n        require(\"tickets\").setup()\n    end\n}\n</code></pre>"},{"location":"installation/#using-vim-plug","title":"using vim-plug","text":"<pre><code>Plug 'nvim-lua/plenary.nvim'\nPlug 'MarvinHauke/tickets.nvim'\n\n\" After plug#end()\nlua require(\"tickets\").setup()\n</code></pre>"},{"location":"quickstart/","title":"Quick Start","text":"<p>Once installed, you can start using Tickets.nvim immediately.</p>"},{"location":"quickstart/#requirements","title":"Requirements","text":"<p>To use the GitHub integration features:</p> <ol> <li>Git Repository: You must be inside a git repository with a remote named <code>origin</code> pointing to GitHub.</li> <li>Authentication:<ul> <li>gh CLI (Recommended): Install and authenticate with <code>gh auth login</code>.</li> <li>GITHUB_TOKEN: Alternatively, set the <code>GITHUB_TOKEN</code> environment variable.</li> </ul> </li> </ol>"},{"location":"quickstart/#basic-setup","title":"Basic Setup","text":"<p>In your <code>init.lua</code> or plugin configuration file, call the setup function:</p> <pre><code>require(\"tickets\").setup({\n    target_file = \"todo.md\" -- Optional: Defaults to \"todo.md\"\n})\n</code></pre>"},{"location":"quickstart/#commands","title":"Commands","text":""},{"location":"quickstart/#open-todo-list","title":"Open Todo List","text":"<p>To open your designated todo file in a floating window:</p> <pre><code>:Tickets\n</code></pre> <ul> <li>Edit the file as normal.</li> <li>Press <code>q</code> in Normal mode to close the window (only if saved).</li> </ul>"},{"location":"quickstart/#fetch-github-issues","title":"Fetch GitHub Issues","text":"<p>To fetch issues from the current repository:</p> <pre><code>:TicketsGithubFetch\n</code></pre> <p>The plugin will: 1.  Detect the repository from your git remote (<code>origin</code>). 2.  Check cache first; if cached, display instantly. 3.  Otherwise, fetch open issues using <code>gh</code> CLI or <code>curl</code> (fallback). 4.  Display them in a floating window. 5.  Notify you of the number of issues found (or if none exist).</p>"},{"location":"quickstart/#additional-github-commands","title":"Additional GitHub Commands","text":"<pre><code>:TicketsGithubRefresh      \" Force refresh from API (bypass cache)\n:TicketsCacheClear         \" Clear all cached data\n:TicketsCacheClear owner/repo  \" Clear cache for specific repository\n:TicketsCacheStats         \" Show cache statistics\n</code></pre>"},{"location":"quickstart/#viewing-issue-details","title":"Viewing Issue Details","text":"<p>When the issues list is open:</p> <ul> <li>Press <code>&lt;CR&gt;</code> (Enter) on any issue to view full details including description, labels, assignees, and comments</li> <li>Press <code>q</code> to close the detail view</li> <li>Press <code>gx</code> to open the issue in your browser</li> </ul>"},{"location":"quickstart/#configuration","title":"Configuration","text":"<p>You can pass options to the setup function:</p> Option Type Default Description <code>target_file</code> <code>string</code> <code>\"todo.md\"</code> The file path to open when running <code>:Tickets</code>."},{"location":"features/browser/","title":"Browser Integration","text":"<p>Currently, Tickets.nvim focuses on in-editor management.</p>"},{"location":"features/browser/#future-capabilities","title":"Future Capabilities","text":"<p>We plan to add features that allow you to: 1.  Open the currently selected issue in your default web browser. 2.  Create new issues from within Neovim that sync to GitHub.</p> <p>Check the Roadmap for updates.</p>"},{"location":"features/overview/","title":"Features Overview","text":"<p>Tickets.nvim provides two main functionalities: Local Task Management and GitHub Issue Integration.</p>"},{"location":"features/overview/#local-task-management","title":"Local Task Management","text":"<p>The core feature is the ability to quickly access a TODO file without leaving your current buffer context.</p> <ul> <li>Command: <code>:Tickets</code></li> <li>Behavior: Opens a floating window centered in the editor.</li> <li>File Handling:<ul> <li>If the <code>target_file</code> (default <code>todo.md</code>) exists, it is opened.</li> <li>If it doesn't exist, a new buffer is created pointing to that path.</li> </ul> </li> <li>Safety: The window cannot be closed with <code>q</code> if there are unsaved changes, preventing accidental data loss.</li> </ul>"},{"location":"features/overview/#github-integration","title":"GitHub Integration","text":"<p>Connects to the GitHub API to retrieve issues for your current project.</p>"},{"location":"features/overview/#commands","title":"Commands","text":"<ul> <li><code>:TicketsGithubFetch</code> - Fetch issues from GitHub (uses cache if available)</li> <li><code>:TicketsGithubRefresh</code> - Fetch issues from GitHub, bypassing cache</li> <li><code>:TicketsCacheClear [repo]</code> - Clear cache for specific repo (e.g., <code>owner/repo</code>) or all repos if no argument provided</li> <li><code>:TicketsCacheStats</code> - Display cache statistics (number of cached repos, issues, and details)</li> </ul>"},{"location":"features/overview/#repository-detection","title":"Repository Detection","text":"<p>Automatically detects the repository from your current git remote (<code>git remote get-url origin</code>). No configuration needed.</p>"},{"location":"features/overview/#authentication","title":"Authentication","text":"<ol> <li>gh CLI (Preferred): Checks if you are logged in via <code>gh auth status</code>.</li> <li>GITHUB_TOKEN: Falls back to using <code>curl</code> with this environment variable if <code>gh</code> is unavailable.</li> </ol>"},{"location":"features/overview/#caching","title":"Caching","text":"<p>Issues are cached in-memory during your Neovim session to improve performance and reduce API calls:</p> <ul> <li>First fetch from a repository retrieves data from GitHub API</li> <li>Subsequent fetches use cached data for instant access</li> <li>Cache persists only for current session (cleared on restart)</li> <li>Use <code>:TicketsGithubRefresh</code> to force-refresh from API</li> <li>Use <code>:TicketsCacheClear</code> to manually invalidate cache</li> </ul>"},{"location":"features/overview/#feedback-ui","title":"Feedback &amp; UI","text":"<ul> <li>Displays fetched issues in a clean floating window.</li> <li>Press <code>&lt;CR&gt;</code> (Enter) on an issue to view full details, comments, and metadata</li> <li>Provides system notifications (<code>vim.notify</code>) for:<ul> <li>Success (e.g., \"5 issues fetched\", \"Using cached issues\")</li> <li>Empty results (\"No issues found for this repository\")</li> <li>Configuration errors (e.g., missing repo, missing auth)</li> <li>API/CLI errors (with specific error messages)</li> </ul> </li> </ul>"},{"location":"features/overview/#user-interface","title":"User Interface","text":"<p>The UI is designed to be minimal: *   Floating Windows: Uses Neovim's native floating window API. *   Borders: Rounded borders for a modern look. *   Responsive: Automatically adjusts size based on editor dimensions (approx 80% width/height).</p>"},{"location":"roadmap/","title":"Roadmap","text":"<p>This document tracks the high-level goals and current progress of Tickets.nvim. For a detailed list of feature ideas and future concepts, see Feature Ideas.</p>"},{"location":"roadmap/#completed","title":"Completed \u2705","text":"<ul> <li> Dynamic Repository: Automatically detects the current git repository for fetching issues.</li> <li> Issue UI: Issues are displayed in a clean floating window.</li> <li> Authentication: Support for both <code>gh</code> CLI and <code>GITHUB_TOKEN</code>.</li> <li> Issue Details: Pressing <code>Enter</code> on an issue in the list shows the full description in a split pane.</li> <li> Browser Open: <code>gx</code> keybinding opens the selected issue in the browser.</li> <li> Creating Issues: <code>:TicketsCreate</code> command to draft and submit new issues directly from Neovim.</li> <li> Persistent Cache: Issues and details are cached to disk for offline access and instant loading.</li> <li> Background Prefetching: Issue details are prefetched in the background for smooth navigation.</li> </ul>"},{"location":"roadmap/#in-progress","title":"In Progress \ud83d\udea7","text":"<ul> <li> Cross-platform Browser Support: Currently uses <code>open</code> (macOS only), needs Linux/Windows support.</li> </ul>"},{"location":"roadmap/#planned-high-priority","title":"Planned (High Priority) \ud83d\udcc5","text":"<ul> <li> Filtering: Support fetching issues with specific filters (labels, assignee).</li> <li> Edit Issue Metadata: Edit title, body, labels, and assignees from within Neovim.</li> </ul>"},{"location":"roadmap/#future-scope","title":"Future Scope \ud83d\udd2e","text":"<ul> <li> Multi-Provider Support: GitLab, Jira, Linear integration.</li> <li> Workflow Integration: Create branches from issues, commit message helpers.</li> </ul> <p>See Feature Ideas for the full brainstorming list.</p>"},{"location":"roadmap/feature_ideas/","title":"\ud83d\ude80 Tickets.nvim Feature Ideas &amp; Comprehensive Roadmap","text":"<p>This document outlines planned features, refined concepts, and expanded ideas for the future development of Tickets.nvim, aiming to create a powerful, integrated issue-management tool within Neovim.</p>"},{"location":"roadmap/feature_ideas/#core-functionality-extensions-deeper-interaction","title":"Core Functionality Extensions (Deeper Interaction)","text":"<p>Enhance the basic interaction with issues directly within Neovim.</p> Feature Status Refined Description View Issue Details &amp; Comments \u2705 DONE Press <code>Enter</code> to view the full body, labels, assignees, and the full comment history in a split pane. ~~Add the ability to post new comments directly from this view.~~ (commenting not yet implemented) Open in Browser \u2705 DONE Press <code>gx</code> on an issue line to open the corresponding provider page in the default browser. Create Issue (with Metadata) \u2705 DONE <code>:TicketsCreate</code> opens frontmatter-based template to specify title, description, labels, and assignees. Submit with <code>&lt;leader&gt;s</code> or <code>&lt;CR&gt;&lt;CR&gt;</code>. Uses scratch buffer to avoid file write complications. Edit Issue Metadata \ud83d\udcdd Planned New commands/keymaps to edit the issue's title, body, labels, assignees, and milestone from the detailed view. Create Issue Refinements \ud83d\udca1 Ideas <ul><li>Add milestone support in frontmatter</li><li>Template persistence/customization per repo</li><li>Issue templates from <code>.github/ISSUE_TEMPLATE/</code></li><li>Preview rendering before submission</li><li>Draft issues (save locally before submitting)</li></ul> Close/Reopen Issue \ud83d\udcdd Planned Toggle issue state (open/closed) directly from the list view. Interactive Filtering \ud83d\udcdd Planned Support query arguments for fetching (e.g., <code>:TicketsFetch label:bug assignee:@me</code>). Implement a dynamic/interactive filter UI for on-the-fly filtering and allow saving favorite filters. Post Comments \ud83d\udcdd Planned Add the ability to post new comments directly from the detail view."},{"location":"roadmap/feature_ideas/#workflow-integration-git-vcs-harmony","title":"Workflow Integration (Git &amp; VCS Harmony)","text":"<p>Seamlessly integrate issue management with your git workflow.</p> Feature Refined Description Branch from Issue (Smart) Keymap (e.g., <code>&lt;leader&gt;tb</code>) to create a branch named <code>feature/#123-issue-title</code> from the selected issue. Automatically switch to the new branch and optionally draft a placeholder first commit message with the issue reference. Commit Message Helper (Smart) Autocomplete issue references (e.g., <code>#123</code>) within commit messages. Expand to suggest closing keywords (<code>fixes #123</code>) and suggest conventional commit types (<code>feat:</code>, <code>fix:</code>) based on issue labels. Link Issue in Code (Clickable) Automatically highlight and detect issue references (e.g., <code>TODO: #123</code>, <code>Fixes: #456</code>) in code comments and make them clickable via a keymap (e.g., <code>&lt;CR&gt;</code> or <code>gO</code>) to open the issue details view. PR Linking Display linked Pull Requests alongside the issue in the detailed view, including the current status (e.g., <code>Open</code>, <code>Merged</code>, <code>Draft</code>, <code>Review Required</code>) and all relevant checks."},{"location":"roadmap/feature_ideas/#third-party-integration","title":"Third-Party Integration","text":"Feature Refined Description <code>todo-comments.nvim</code> Integration Leverage <code>todo-comments.nvim</code> for enhanced workflow:  - Issue Conversion: Convert <code>TODO</code> comments found by <code>todo-comments.nvim</code> directly into GitHub issues via <code>Tickets.nvim</code>.  - Enriched Highlighting: Display issue details (title, status) as virtual text next to <code>TODO: #&lt;issue_number&gt;</code> comments.  - Unified Dashboard: Create a view combining local <code>TODO</code>s from <code>todo-comments.nvim</code> and remote issues from <code>Tickets.nvim</code>."},{"location":"roadmap/feature_ideas/#multi-provider-support-enterprise-open-source","title":"Multi-Provider Support (Enterprise &amp; Open Source)","text":"<p>Expand support beyond GitHub to other platforms.</p> Provider Status Notes GitHub \u2705 Implemented Core functionality available. GitLab \ud83d\udcdd Planned Implementation via REST API. Jira \ud83d\udcdd Planned High priority for enterprise users, supporting Jira Query Language (JQL). Linear \ud83d\udcdd Planned For modern, high-speed issue tracking workflows. Forgejo/Gitea \ud83d\udcdd Planned Support for self-hosted instances. Azure DevOps/TFS \ud83d\udcdd Planned Critical for Microsoft-centric enterprise environments."},{"location":"roadmap/feature_ideas/#productivity-features-efficiency-context","title":"Productivity Features (Efficiency &amp; Context)","text":"<p>Tools to speed up navigation and context management.</p> Feature Refined Description Telescope Integration New picker <code>:Telescope tickets</code> for fuzzy searching. Allow searching across multiple configured repositories and searching through cached issues. Statusline Component &amp; Timer Control Display the currently active/working issue in statuslines (like <code>lualine</code>). Allow pausing/resuming the issue timer via a command or statusline click. Issue Timer (External Integration) Simple time tracking per issue directly in the editor. Integrate with external time tracking APIs (e.g., Toggl Track) for professional use. Offline Cache (Smart Sync) Cache fetched issues locally for instant access and offline viewing. Implement smart synchronization (only fetch updates) and allow pre-fetching issues for specific repositories/queries. Notifications Utilize Neovim's <code>vim.notify</code> for pop-up notifications for new comments or mentions on tracked issues. Allow configuring notification filters and mute options. Bulk Actions Functionality to select multiple issues in the list view and apply a common action to all of them at once (e.g., change status, apply label)."},{"location":"roadmap/feature_ideas/#advanced-features-project-management","title":"Advanced Features &amp; Project Management","text":"<p>Deepen the connection between code and issues, adding organizational tools.</p> Feature Description Kanban/Board View A visual representation of issues organized by status (e.g., To Do, In Progress, Done) similar to GitHub Projects or Jira Boards, rendered using a dedicated Neovim buffer. Configuration per Project Allow a local configuration file (e.g., <code>.tickets.lua</code>) in the project root to override global settings (like default repository, preferred provider) for seamless multi-repo work. Blame to Issue Enhance <code>git blame</code> functionality to show the issue linked to a specific line of code by parsing issue references from commit messages. Issue to Code (Reverse Lookup) Show a list of files and lines where a specific issue is referenced (e.g., in a <code>TODO: #123</code> comment), displayed in a quickfix/location list. Custom Status Mapping Allow users to map provider-specific statuses (e.g., \"In Review,\" \"Awaiting Feedback\") to a simpler set of internal statuses for a unified experience across different providers."},{"location":"roadmap/feature_ideas/#data-persistence-caching-strategy","title":"Data Persistence &amp; Caching Strategy","text":"<p>Implement a multi-layered approach to issue data management for optimal performance and offline capability.</p> Phase Feature Status Description Phase 1 In-Memory Cache \u2705 DONE Quick-win implementation: Cache fetched issues in memory for the current session. Avoid redundant API calls when navigating between issue list and details view. Invalidate cache on explicit refresh command. Phase 2 Persistence Layer (JSON) \u2705 DONE Persistent storage in <code>~/.local/share/nvim/tickets/cache/</code> directory using JSON files. One file per repository (<code>owner_repo.json</code>) for lightweight needs. Includes metadata: last sync time. Auto-loads from disk on access. Phase 2b Persistence Layer (SQLite) \ud83d\udcdd Planned Optional: Structured database for advanced querying, supporting Telescope integration and complex filters. Would enable cache freshness policy (e.g., 15min TTL) and multi-repo queries. Phase 3 User Notes per Issue \ud83d\udcdd Planned Optional <code>.tickets/notes/</code> folder in project root for per-issue annotations and local context. User notes are git-trackable for team collaboration. Keep separate from cache data (cache in data dir, notes in workspace)."}]}